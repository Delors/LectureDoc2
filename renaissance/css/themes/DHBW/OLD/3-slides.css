



/*
    Styling of slides which act as section headers.

    <code>div class="ld-slide new-section"...</code>

    We add a counter to the first (and only) h2 element on the slide.
*/

@property --section-title-shadow-angle {
    syntax: '<angle>';
    inherits: false;
    initial-value: 0deg;
}

div.ld-slide.new-section {

    display: flex;
    flex-direction: column;
    justify-content: center;

    &::before {
        content: var(--author);
        position: absolute;
        top:1em;
        color: var(--dhbw-gray);
        font-size: 24px;
        font-variant: normal;
        font-weight: 200;
    }

    &::after {
        content: var(--dhbw-logo);
        position: absolute;
        top: 0px;
        right: 0px;
        scale: 0.50;
        translate: 100px -55px;
    }

    >h2 {
        border: 0;
        width: 100%;
        margin-left: calc(-2 * var(--slide-lr-padding));
        /*position: relative;
        margin-top: 350px;
        padding-top: 1em;
        padding-bottom: 1em;*/
        padding: 0.8em 0.8em 0.8em 1.6em;
        border-radius: 0 calc(var(--slide-border-radius) * 0.95) calc(var(--slide-border-radius) * 0.95) 0;
        background-color: var(--dhbw-dark-gray);
        color: white;
        font-size: 2.25em;
        font-family: var(--slide-large-serif-font-family);
        /*font-variant: small-caps;*/
        font-weight: 300;
        text-align: center;
        text-shadow: 1px 1px 1px white;   
    }
}

:not(#ld-main-pane) > .ld-slide.new-section > h2 {
    box-shadow: 4px 4px 8px black;
}

#ld-main-pane .ld-slide.new-section > h2 {

    /*
    &::before {
        content: "";
        display: block;
        position: absolute;
        width: 100%;
        height: 100%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border-radius: calc(var(--slide-border-radius) * 0.75);
    }
    */

    /* Dropped for performance reasons: */
    /*&::after {
            padding: 15px;
            background-image: conic-gradient(
                var(--dhbw-dark-gray), var(--dhbw-light-gray), var(--dhbw-red), var(--dhbw-light-gray), var(--dhbw-dark-gray), var(--dhbw-dark-gray));
            filter: opacity(0.35) blur(15px);
            z-index: -2;
        }
    &::before {
        padding: 10px;
        background-image: conic-gradient(from var(--section-title-shadow-angle),
                var(--dhbw-dark-gray), var(--dhbw-light-gray), var(--dhbw-red), var(--dhbw-light-gray), var(--dhbw-dark-gray), var(--dhbw-dark-gray));
        filter: opacity(0.5) blur(12px);
        / * animation: rotate-section-title-shadow 15s infinite linear; * /
        z-index: -1;
    }
    */
}

@keyframes rotate-section-title-shadow {
    0% {
        --section-title-shadow-angle: 0deg;
    }

    100% {
        --section-title-shadow-angle: 360deg;
    }
}

#ld-main-pane,
#ld-continuous-view-pane,
#ld-light-table-dialog {
    counter-reset: ld-section 0;
}

.ld-slide.new-section {
    counter-increment: ld-section;
}

/*
    Counters across multiple slides cannot be used in the slide mode because,
    we have to use "display: none" to hide slides due to an issue in Safari
    and this makes it impossible to use counters.
*/
:is(#ld-continuous-view-pane, #ld-light-table-dialog) .ld-slide.new-section h2::before {
    content: counter(ld-section)".";
    padding-right: 0.25em;
}











